# Application Configuration
app:
  replicaCount: 1

  image:
    repository: ghcr.io/frallan97/blackjack-training
    tag: latest
    pullPolicy: Always  # Required for ArgoCD Image Updater

  service:
    type: ClusterIP
    port: 80

  # Conservative resource allocation for static file serving
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 50m
      memory: 64Mi

  # Health checks
  livenessProbe:
    httpGet:
      path: /
      port: http
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 3
    failureThreshold: 3

  readinessProbe:
    httpGet:
      path: /
      port: http
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3

# Ingress Configuration
ingress:
  enabled: true
  className: traefik
  host: blackjack.vibeoholic.com
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod
    traefik.ingress.kubernetes.io/router.entrypoints: web,websecure
    traefik.ingress.kubernetes.io/router.tls: "true"
  tls:
    enabled: true
    secretName: blackjack-training-tls

# Image pull secrets
imagePullSecrets:
  - name: ghcr-pull-secret
